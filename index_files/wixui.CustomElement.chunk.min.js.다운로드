(("undefined"!=typeof self?self:this).webpackJsonp_wix_ui_santa=("undefined"!=typeof self?self:this).webpackJsonp_wix_ui_santa||[]).push([[47],{509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(966),i=n(68);t.default={componentType:i.COMP_TYPE,santaComponent:o.CustomElement}},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COMP_TYPE="wixui.CustomElementComponent",t.COMP_NAME="CustomElement"},966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomElement=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=_interopRequireDefault(n(0)),s=_interopRequireDefault(n(1)),a=n(11),u=n(68),p=_interopRequireDefault(n(967));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){function LiveSiteCustomElement(e){_classCallCheck(this,LiveSiteCustomElement);var t=_possibleConstructorReturn(this,(LiveSiteCustomElement.__proto__||Object.getPrototypeOf(LiveSiteCustomElement)).call(this,e));return t.registeredEvents={},e.isInSeo?_possibleConstructorReturn(t):(t.props.externalScriptLoader.loadExternalScript(e.compData.url,e.compData.hostedInCorvid),t)}return _inherits(LiveSiteCustomElement,r.default.Component),i(LiveSiteCustomElement,[{key:"render",value:function render(){var e=this,t=Object.assign(this.props.getRequiredProps(),this.props.compData.attributes||{},{ref:function ref(t){return e.compRef=t},suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}});return this.props.isInSeo&&(t.dangerouslySetInnerHTML={__html:this.props.compData.seoMarkup}),t.style&&t.style.height&&(t.style["min-height"]=t.style.height,delete t.style.height),r.default.createElement(this.props.compData.tagName,t)}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this;Object.values(this.props.compActions||{}).filter(function(t){var n=t.name;return!e.registeredEvents[n]}).forEach(function(t){var n=t.name,o=t.sourceId,i=t.type;e.compRef.addEventListener(n,function(t){return e.props.handleAction({name:n,sourceId:o,type:i},{data:t.detail})}),e.registeredEvents[n]=!0})}}]),LiveSiteCustomElement}(),c=t.CustomElement=function(e){function CustomElement(){return _classCallCheck(this,CustomElement),_possibleConstructorReturn(this,(CustomElement.__proto__||Object.getPrototypeOf(CustomElement)).apply(this,arguments))}return _inherits(CustomElement,a.SantaComponent),i(CustomElement,[{key:"render",value:function render(){return this.props.isPreviewMode?r.default.createElement(p.default,o({},this.props,{getRequiredProps:this.getRequiredProps})):r.default.createElement(l,o({},this.props,{getRequiredProps:this.getRequiredProps}))}}]),CustomElement}();c.displayName=u.COMP_NAME;var f=a.utils.createSantaTypesDefinitions({previewUrl:s.default.string},"CustomElements");c.propTypes={id:a.santaTypesDefinitions.Component.id,styleId:a.santaTypesDefinitions.Component.styleId,style:a.santaTypesDefinitions.Component.style,compData:a.santaTypesDefinitions.Component.compData.isRequired,compProp:a.santaTypesDefinitions.Component.compProp.isRequired,isInSeo:a.santaTypesDefinitions.isInSeo.isRequired,isPreviewMode:a.santaTypesDefinitions.isPreviewMode,compActions:a.santaTypesDefinitions.Component.compActions,handleAction:a.santaTypesDefinitions.Behaviors.handleAction,externalScriptLoader:a.santaTypesDefinitions.SiteAspects.externalScriptLoader.isRequired,scriptsLocationMap:a.santaTypesDefinitions.ServiceTopology.scriptsLocationMap,componentViewMode:a.santaTypesDefinitions.RenderFlags.componentViewMode,renderInfo:a.santaTypesDefinitions.Link.renderInfo,getTranslationAllKeys:a.santaTypesDefinitions.Translations.getTranslationAllKeys,premiumFeatures:a.santaTypesDefinitions.RendererModel.premiumFeatures,previewUrl:f.previewUrl},l.propTypes=c.propTypes},967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=_interopRequireDefault(n(0)),r=n(11),s=_interopRequireDefault(n(2));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a={padding:"6px",width:"100%",position:"absolute",fontSize:"12px",backgroundColor:"#eedbf4",textAlign:"center",lineHeight:"18px",fontFamily:"HelveticaNeueW01-45Ligh, HelveticaNeueW02-45Ligh, HelveticaNeueW10-45Ligh, Helvetica Neue, Helvetica, Arial, \u30e1\u30a4\u30ea\u30aa, meiryo, \u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 pro w3, hiragino kaku gothic pro, sans-serif",boxSizing:"border-box",maxHeight:"100%",overflow:"hidden",color:"#2b5672"},u=function(e){function CustomElement(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CustomElement);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(CustomElement.__proto__||Object.getPrototypeOf(CustomElement)).call(this,e));return t.state={iframe:null},t.iframeSrc=e.scriptsLocationMap["wix-ui-santa"]+"/assets/CustomElement/index.html",t.allKeys=t.props.getTranslationAllKeys("custom_element")||[],t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CustomElement,r.SantaComponent),o(CustomElement,[{key:"translate",value:function translate(e){return this.allKeys[e]?this.allKeys[e]:e}},{key:"getPremiumBanner",value:function getPremiumBanner(){if("preview"===this.props.componentViewMode)return"";if(!function isPremiumUser(e){return!s.default.isEmpty(e)}(this.props.premiumFeatures))return i.default.createElement("div",{style:a},this.translate("custom_element_gfpp_upgrade_premium_info_text"));if(function hasDomainFeature(e){return s.default.includes(e,"HasDomain")}(this.props.premiumFeatures)){if(!function isAdsFree(e){return s.default.includes(e,"AdsFree")}(this.props.premiumFeatures))return i.default.createElement("div",{style:a},this.translate("custom_element_gfpp_upgrade_no_ads_info_text"));if(!function hasConnectedDomain(e){return!s.default.includes(e,"wix.com")}(this.props.renderInfo.serviceTopology.baseDomain))return i.default.createElement("div",{style:a},this.translate("custom_element_gfpp_connect_domain_info_text"))}return""}},{key:"render",value:function render(){return i.default.createElement("div",this.props.getRequiredProps(),i.default.createElement("iframe",{src:this.iframeSrc,id:this.props.id+"-iframe",style:{width:"100%",height:"100%",position:"absolute"}}),this.getPremiumBanner())}},{key:"componentDidMount",value:function componentDidMount(){var e=this,t=document.getElementById(this.props.id+"-iframe");window.onmessage=function(t){"iframe_web_component_trigger_event"===t.data.type&&e.props.handleAction(t.data.event,{data:t.data.data})},t.onload=function(){t.contentWindow.postMessage({type:"load",tagName:e.props.compData.tagName,attributes:e.props.compData.attributes,compActions:e.props.compActions,style:{width:e.props.style.width,height:e.props.style.height},url:e.props.previewUrl,viewerCssUrl:e.props.scriptsLocationMap.santa+"/static/css/viewer.css"},"*")},this.setState({iframe:t})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.iframe&&this.state.iframe.contentWindow.postMessage({type:"reload"},"*")}}]),CustomElement}();t.default=u}}]);
//# sourceMappingURL=wixui.CustomElement.chunk.min.js.map